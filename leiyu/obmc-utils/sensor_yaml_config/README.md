# openbmc-utils

* `upload_and_update.py`
A tool to upload a tarball to TFTP server and update BMC with it.
**Note**: It uses legacy methods to update BMC so it may break in future when the code update is refactored.

* `sensor_yaml_config.py`
A tool to help write IPMI sensor yaml config.
**Note**: This script requires python3.6 or above.

   * To sort the yaml config:
   ```
   sensor_yaml_config.py -i <input.yaml> -o <output.yaml>
   ```
   * To add the missing enityID, entityInstance, and sensorNamePattern:
   ```
   sensor_yaml_config.py -i <input.yaml> -o <output.yaml> -f
   ```
   * To add missing core/dimm temperature sensors based on RPT (generated by OpenPOWER op-build):
   ```
   sensor_yaml_config.py -i <input.yaml> -o <output.yaml> -f -r <machine.rpt>
   ```
   * To generate a sensor map from example yaml config, which could be used for future:
   ```
   sensor_yaml_config.py -i <sample.yaml> -o <sensor_map.yaml> -g
   ```
   * To generate a DCMI sensor json config, which is used by phosphor-ipmi-config:
   ```
   sensor_yaml_config.py -i <input.yaml> -o <output.json> -d
   ```
